<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		
		<button>按钮1</button>
		<button>按钮2</button>
		<button>按钮3</button>
		<button>按钮4</button>
		<button>按钮5</button>
		<button>按钮6</button>
		
		<script>
			// ES5之前因为if和for都没有块级作用域的概念，所以在很多时候，我们都必须借助于function的作用域
			// 来解决应用外面变量的问题
			// ES6中，加入的了let，let它是有if和for的块级作用域。
			// 1、变量作用域： 变量在什么范围内是可用
			/* {
				var name = 'why';
				let lname = 'what';
				console.log(name);
				console.log(lname)
			}
			
			console.log(name);
			// console.log(lname);
			*/
		   
			// 2、没有块级作用域引起的问题: if的块级
			/* var func;
			if(true) {
				var name = 'why';
				
				func = function() {
					console.log(name);
				}
				
				func();
			}
			
			name = '张三';
			func(); */
			
			// 3、没有块级作用域引起的问题: for的块级
			// 为什么闭包可以解决问题： 函数是有作用域的
			var btns = document.getElementsByTagName('button');
			
			for(var i = 0;i < btns.length;i++) {
				/* btns[i].addEventListener('click', function() {
					console.log('第' + i + '个按钮点击');
				}) */
				
				(function(i) {
					btns[i].addEventListener('click', function() {
						console.log('第' + i + '个按钮点击');
					})
				})(i)
				
			}
		</script>
	</body>
</html>
